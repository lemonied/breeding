import{_ as R}from"./bg-08db9a08.js";import{j as L,r as u,o as s,c as n,F as x,h as z,t as p,B as f,f as h,g as b,D as j,e as d,I as N,b as c,E as D,G as V,A as g,H as Y,s as A,u as M,p as q,i as E,a as F,J as K}from"./index-3b786813.js";import{S as U,B as G}from"./BreadCrumb-b39beab1.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{A as H}from"./AImage-9215f657.js";import{h as J}from"./moment-fbc5633a.js";import{u as O}from"./nav-7b3f8086.js";const Q={class:"list"},W=["href"],X=L({__name:"PlainList",props:{data:{}},setup(i){const l=i;return(y,k)=>{const o=u("RouterLink");return s(),n("div",Q,[(s(!0),n(x,null,z(l.data,(t,m)=>(s(),n("div",{class:"item",key:m},[t.resourceType==="02"?(s(),n("a",{key:0,href:t.resourceContext,target:"_blank"},p(t.title),9,W)):(s(),f(o,{key:1,to:`/detail/${t.id}`},{default:h(()=>[b(p(t.title),1)]),_:2},1032,["to"]))]))),128))])}}});const Z=$(X,[["__scopeId","data-v-fe639dba"]]),ee={class:"list"},te={key:0,class:"image"},se={class:"con"},ae=["href"],oe={class:"date"},ne=L({__name:"TimeList",props:{data:{}},setup(i){const l=i;return(y,k)=>{const o=u("RouterLink");return s(),n("div",ee,[(s(!0),n(x,null,z(l.data,(t,m)=>(s(),n("div",{class:j(["item",{"with-image":t.imgPath}]),key:m},[t.imgPath?(s(),n("div",te,[d(H,{src:t.imgPath},null,8,["src"])])):N("",!0),c("div",se,[t.resourceType==="02"?(s(),n("a",{key:0,href:t.resourceContext,target:"_blank"},p(t.title),9,ae)):(s(),f(o,{key:1,to:`/detail/${t.id}`},{default:h(()=>[b(p(t.title),1)]),_:2},1032,["to"])),c("div",oe,p(D(J)(t.publishTime).format("YYYY-MM-DD")),1)])],2))),128))])}}});const ie=$(ne,[["__scopeId","data-v-104c887d"]]),re=i=>(q("data-v-1d11f537"),i=i(),E(),i),ce={class:"news-list"},le=re(()=>c("img",{class:"bg",src:R},null,-1)),_e={class:"content"},de={class:"list-wrapper"},ue={class:"list-con"},pe={class:"page"},me=L({__name:"NewsList",setup(i){const l=O(),y=V(),k=g(()=>y.query.key),o=g(()=>Number(y.params.id)),t=g(()=>l.getCurrent(o.value)),m=g(()=>l.getParents(o.value)),w=g(()=>{if(t.value){if(["kyry"].includes(t.value.subjectNameKey))return"plain";if(["zzzy"].some(a=>m.value.some(r=>r.subjectNameKey===a)))return"image"}return"time"}),e=Y({loading:!1,list:[],total:0,page:1,size:10}),S=async()=>{e.loading=!0;try{const a=await F.get(`/ngapi/article/${o.value}/${e.page}/${e.size}`);e.list=a.data.rows,e.total=a.data.records}catch(a){a!=null&&a.message&&K.error(a.message)}e.loading=!1},v=()=>{k.value||S()},C=(a,r)=>{e.page=a,e.size=r,v()};return A([o,k],()=>{e.page=1,e.size=10,v()},{flush:"post"}),M(()=>{v()}),(a,r)=>{const I=u("RouterLink"),B=u("a-empty"),P=u("a-pagination"),T=u("a-spin");return s(),n("div",ce,[le,c("div",_e,[d(U,{id:o.value,class:"sub-navs"},{default:h(({nav:_})=>[d(I,{to:`/list/${_.id}`,replace:""},{default:h(()=>[b(p(_.subjectName),1)]),_:2},1032,["to"])]),_:1},8,["id"]),c("div",de,[d(G,{id:o.value},null,8,["id"]),d(T,{spinning:e.loading},{default:h(()=>[c("div",ue,[!e.loading&&!e.list.length?(s(),f(B,{key:0,style:{padding:"30px 0"}})):N("",!0),w.value==="plain"?(s(),f(Z,{key:1,data:e.list},null,8,["data"])):(s(),f(ie,{key:2,data:e.list},null,8,["data"])),c("div",pe,[d(P,{current:e.page,"onUpdate:current":r[0]||(r[0]=_=>e.page=_),pageSize:e.size,"onUpdate:pageSize":r[1]||(r[1]=_=>e.size=_),"show-quick-jumper":"",showSizeChanger:"",hideOnSinglePage:"",total:e.total,onChange:C},null,8,["current","pageSize","total"])])])]),_:1},8,["spinning"])])])])}}});const be=$(me,[["__scopeId","data-v-1d11f537"]]);export{be as default};
